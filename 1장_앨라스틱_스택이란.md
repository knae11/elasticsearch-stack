# 엘라스틱 스택이란

## 배경
- 전문 검색 기능을 제공하는 강력한 소프트웨어의 필요성 -> 엘라스틱 서치
- 빅데이터 파이프라인을 구성하는 플랫폼 형태로 성장
- 단순 검색엔진을 넘어서는 플랫폼으로 발전
- 유연성 확보를 위해 데이터를 수집, 가공, 저장, 분석, 시각화하는 파이프라인을 구성(다양한 오픈소스 소프트웨어의 조합) => 엘라스틱 스택
- 엘라스틱 스택 = 키바나(시각화) + 엘라스틱 서치(데이터 저장, 검색엔진) + 비츠, 로그스태시 (데이터 수집)

## 엘리스틱 서치
- JSON 도큐먼트 형태로 입력, 관리
- 쿼리 결과에 대해 일치하는 원본 도큐먼트를 반환(일반적인 데이터베이스처럼)
- 다양한 데이터 타입에 최적화
- 검색엔진이면서 데이터베이스(일종의 NoSQL)의 역할
- 용어 단위의 역인덱스 사전을 구축
- 최적화된 컬럼 기반 자료구조를 저장 -> 병렬처리나 분산처리 가능

### 검색엔진으로서 엘라스틱 서치
- 스코어링, 즉 연관도에 따른 정렬
- 검색에어 대한 유사도 스코어를 기반으로 한 정렬을 제공 -> 복잡한 문자열 컨텐츠에서 검색할 때 효과적
- 분산시스템
- 노드 간 복제 기능
- REST API 이용 => 별도의 드라이버 라이브러리가 없어도 됨

### 단점
- 시스템 리소스를 많이 사용
- DSL 쿼리 사용 => JOIN 어려우므로 반정규화를 기본으로 모델링이 필요함
- 인덱스가 불변의 자료구조 => 수정 및 삭제의 비용이 큼

## 키바나
- 시각화와 엘라스틱서치 관리 도구

## 로그스태시
- 이벤트 수집과 정제를 위한 도구
- 데이터 수집과 가공 기능 제공
- 분석하기 쉬운 형태로 정제 및 다양한 플랫폼으로 내보낼 수 있음
- 엘라스틱서치의 인덱싱 성능을 최적화 하기 위한 배치처리와 병렬처리 가능
- 영속적 큐를 사용하여 이벤트의 처리 최소 1회 전송 보장
- 부하 상황에서 안정성을 보장

## 비츠
- 엣지단에서 동작하는 경량 수집 도구

## 엘라스틱스택의 용도

1. 전문 검색 엔진
    - 용어단위로 분석해 인덱싱하며 이를 기반으로 검색을 수행하는 역인덱싱 기법이 활용됨
2. 로그 통합 분석
    - 패턴을 기반으로 원문을 가공해 정형회된 수치를 추출하여 인덱싱하여 다양한 방식의 로그분석에 활용됨
    - 손쉬운 교차 분석이나 연관 분석이 가능 => 인덱스 패턴을 이용해 한번에 여러 인덱스에서 동시에 조회 가능
3. 보안 이벤트 분석
4. 애플리케이션 성능 분석
5. 머신 러닝

## 차별점
- 근본은 검색엔진이기 때문에 빠르게 검색 및 집계하는데 최적화 => 더 많은 리소스 사용 => 일반 데이터베이스로 사용하기엔 무리가 잇음
- 저장된 데이터를 수정, 삭제하는 것은 비효율적 => 이미 발생한 데이터는 변하지 않는 시계열 데이터 유형을 다루기에 좋음
- 시계열 데이터란? 시계열 데이터란 일정한 시간동안 수집 된 일련의 순차적으로 정해진 데이터 셋의 집합
- schema 자동 생성
- 인터페이스? REST API
- 샤딩 분산저장
- 다양한 데이터 유형에 대한 빠른 검색/집계
- 트랜잭션, JOIN 미지원
